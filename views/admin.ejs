<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Railways</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark" style="
        background: linear-gradient(45deg, #0b0b0b, #b26821);
        border-bottom-left-radius: 15px;
        box-shadow: 1px 1px 6px 0px #eac073;">
        <div class="container-fluid">
            <svg xmlns="http://www.w3.org/2000/svg" width="35" height="30" fill="orange" class="bi bi-train-front-fill"
                viewBox="0 0 16 16">
                <path
                    d="M10.621.515C8.647.02 7.353.02 5.38.515c-.924.23-1.982.766-2.78 1.22C1.566 2.322 1 3.432 1 4.582V13.5A2.5 2.5 0 0 0 3.5 16h9a2.5 2.5 0 0 0 2.5-2.5V4.583c0-1.15-.565-2.26-1.6-2.849-.797-.453-1.855-.988-2.779-1.22ZM6.5 2h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1m-2 2h7A1.5.5 0 0 1 13 5.5v2A1.5.5 0 0 1 11.5 9h-7A1.5.5 0 0 1 3 7.5v-2A1.5.5 0 0 1 4.5 4m.5 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0m0 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0m8 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-3-1a1 1 0 1 1 0 2 1 1 0 0 1 0-2M4 5.5a.5.5 0 0 1 .5-.5h3v3h-3a.5.5 0 0 1-.5-.5zM8.5 8V5h3a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5z" />
            </svg>
            <a class="navbar-brand" style="color: #ffff;" href="/">INDIAN RAILWAYS</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
                aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <form class="d-flex align-items-center" method="get" action="/admin">
                    <label for="from-date" class="me-2" style="color: #fff;">FROM DATE:</label>
                    <input class="form-control me-2" type="date" id="from-date" name="from-date" required>
                    <label for="to-date" class="me-2" style="color: #fff;">TO DATE:</label>
                    <input class="form-control me-2" type="date" id="to-date" name="to-date" required>
                    <button class="btn btn-outline-light" type="submit">Submit</button>
                </form>
            </div>
        </div>
    </nav>
    <div class="container mt-4">
        <% if (bookings) { %>
            <h2>Booking Details</h2>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>User</th>
                        <th>Username</th>
                        <th>Train Name</th>
                        <th>Train No</th>
                        <th>Seat Class</th>
                        <th>Book Date</th>
                        <th>Source</th>
                        <th>Destination</th>
                        <th>Book ID</th>
                        <th>Phone Number</th>
                        <th>Address</th>
                    </tr>
                </thead>
                <tbody>
                    <% bookings.forEach(function(booking) { %>
                        <tr>
                            <td>
                                <%= booking.custname %>
                            </td>
                            <td>
                                <%= booking.username %>
                            </td>
                            <td>
                                <%= booking.name %>
                            </td>
                            <td>
                                <%= booking.train_no %>
                            </td>
                            <td>
                                <%= booking.seat_class %>
                            </td>
                            <td>
                                <%= booking.date %>
                            </td>
                            <td>
                                <%= booking.source %>
                            </td>
                            <td>
                                <%= booking.destination %>
                            </td>
                            <td>
                                <%= booking.book_id %>
                            </td>
                            <td>
                                <%= booking.phone_no %>
                            </td>
                            <td>
                                <%= booking.address %>
                            </td>
                        </tr>
                    <% }) %>
                    <tr>
                        <td colspan="11">Total Number of Tickets: <%= bookings.length %></td>
                    </tr>
                </tbody>
            </table>
        <% } %>

        <% if (refunds) { %>
            <h2>Refund Details</h2>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Username</th>
                        <th>Train No</th>
                        <th>Source</th>
                        <th>Destination</th>
                        <th>Date</th>
                        <th>Price</th>
                        <th>Number of Seats</th>
                        <th>Seat Class</th>
                        <th>Book ID</th>
                    </tr>
                </thead>
                <tbody>
                    <% refunds.forEach(function(refund) { %>
                        <tr>
                            <td>
                                <%= refund.username %>
                            </td>
                            <td>
                                <%= refund.train_no %>
                            </td>
                            <td>
                                <%= refund.source %>
                            </td>
                            <td>
                                <%= refund.destination %>
                            </td>
                            <td>
                                <%= refund.date %>
                            </td>
                            <td>
                                <%= refund.price %>
                            </td>
                            <td>
                                <%= refund.no_of_seats %>
                            </td>
                            <td>
                                <%= refund.seat_class %>
                            </td>
                            <td>
                                <%= refund.book_id %>
                            </td>
                        </tr>
                    <% }) %>
                    <tr>
                        <td colspan="9">Total Number of Refunds: <%= refundCount %></td>
                    </tr>
                </tbody>
            </table>
        <% } %>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
</body>

</html>
